step id="init" desc="변수 초기화" {
  var 0 -> total
  var [1,2,3] -> nums
  print "init done"
  return tot=total nums=nums
}

step id="loop" desc="합산 루프" onError="retry=2" {
  print "loop start"
  each (item, idx) in nums {
    math add a=total b=item -> total
  }
  print "loop end" total
  math add a=total b=0 -> sumSnapshot
}

step id="branch" desc="조건 분기" {
  if total <= 6 {
    jump to="loop"
  }
  print "계속 진행"
}

step id="cleanup" desc="마무리" {
  print "=== 마무리 ==="
  print "total:" total
  print "initResult:" init
  print "loopResult:" loop
  return total=total init=init loop=loop
}
